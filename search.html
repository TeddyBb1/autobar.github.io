<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vinde Mașina Ta AICI</title>
    <link rel="icon" type="image/png" href="pictures/favicon.ico">
    <!-- Google Font: DM Sans -->
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="search.css">
</head>
<body>
    <!-- Header -->
    <header class="site-header">
        <!-- Stânga: Logo-ul -->
        <div class="header-left">
            <a href="index.html" class="logo">autobar.ro</a>
        </div>

        <!-- Mijloc: Butoanele -->
        <nav class="header-center">
            <ul class="nav-links">
                <li><a href="search.html">Search</a></li>
                <li><a href="sell.html">Sell</a></li>
                <li><a href="#">Inform</a></li>
            </ul>
        </nav>

        <!-- Dreapta: Iconițe și buton Login -->
        <div class="header-right">
            <img src="pictures/save.png" alt="Save" class="icon">
            <img src="pictures/notification.png" alt="Notification" class="icon">
            <a href="login.html" class="login-button">Login</a>
        </div>
    </header>

    <main>
        <!-- Anunțurile vor fi adăugate aici -->
    </main>

    <!-- Script pentru afișarea anunțurilor -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Preluarea anunțurilor din localStorage
            const ads = JSON.parse(localStorage.getItem('ads')) || [];

            // Iterarea prin lista de anunțuri și afișarea fiecărui anunț
            ads.forEach((adData, index) => {
                // Crearea unui element pentru anunț
                const adElement = document.createElement('div');
                adElement.classList.add('ad');
                adElement.innerHTML = `
                    <h2>${adData.listingTitle}</h2>
                    <p><strong>Categorie:</strong> ${adData.category}</p>
                    <p><strong>Etichetă:</strong> ${adData.label}</p>
                    <p><strong>Stare:</strong> ${adData.condition}</p>
                    <p><strong>Tip:</strong> ${adData.type}</p>
                    <p><strong>Marcă:</strong> ${adData.make}</p>
                    <p><strong>Model:</strong> ${adData.model}</p>
                    <p><strong>An:</strong> ${adData.year}</p>
                    <p><strong>Tip ofertă:</strong> ${adData.offerType}</p>
                    <p><strong>Kilometraj:</strong> ${adData.mileage}</p>
                    <p><strong>Transmisie:</strong> ${adData.transmission}</p>
                    <p><strong>Tip combustibil:</strong> ${adData.fuelType}</p>
                    <p><strong>Capacitate motor:</strong> ${adData.engineSize}</p>
                    <p><strong>Număr uși:</strong> ${adData.door}</p>
                    <p><strong>VIN:</strong> ${adData.vin}</p>
                    <button class="delete-button" data-index="${index}">
                        <img src="pictures/trash.png" alt="Delete" class="icon">
                    </button>
                `;

                // Adăugarea anunțului în pagina de căutare
                document.querySelector('main').appendChild(adElement);
            });
        });
    </script>

    <!-- Script pentru ștergerea anunțurilor -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Adăugarea evenimentului de click pentru butoanele de ștergere
            document.querySelectorAll('.delete-button').forEach(button => {
                button.addEventListener('click', function() {
                    const index = this.getAttribute('data-index');
                    let ads = JSON.parse(localStorage.getItem('ads')) || [];
                    ads.splice(index, 1); // Șterge anunțul din array
                    localStorage.setItem('ads', JSON.stringify(ads)); // Actualizează localStorage
                    this.parentElement.remove(); // Șterge anunțul din DOM
                });
            });
        });
    </script>

    <!-- Footer -->
    <footer class="search-footer">
        <!-- Secțiuni Footer -->
        <div class="footer-container">
            <!-- Link-uri -->
            <div class="footer-links">
                <a href="#">Imprint</a>
                <a href="#">Careers</a>
                <a href="#">General Terms and Conditions</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Privacy Settings</a>
                <a href="#">Contact</a>
            </div>
        </div>
    </footer>
</body>
</html>